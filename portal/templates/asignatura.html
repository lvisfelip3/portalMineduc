<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/periodo.css' %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Mineduc - Asignaturas</title>
    
    
</head>
<body>
    <header>
        <div class="links">
            {% if perfil.groups_id == 3 %}
            <h2 class="headerlink"><a href="{% url 'perfil_ri' id %}"></a>Académico</h2> <h2> > </h2> <h2 class="headerlink"><a href="{% url 'cursos' id periodo.id%}"></a>Cursos</h2><h2> > </h2> <h2 class="headerlink"><a href=""></a>Asignaturas</h2>
            {% else %}
            <h2 class="headerlink"><a href="{% url 'cursos' id periodo.id %}"></a>Cursos</h2><h2> > </h2> <h2 class="headerlink"><a href=""></a>Asignaturas</h2>
            {% endif %}
        </div>
        <div class="bloque">
            <a href="#">{{perfil.first_name}} {{perfil.last_name}}</a>
            <a href="#">{{perfil.username}}</a>
            <a href="#">{{gruop.name}}</a>
        </div>
        <img src="{% static 'img/profilePicture.webp' %}" alt="">
    </header>

    <aside>
        <img src="{% static 'img/logotop.jpg' %}" alt="">
        <span><strong>Mineduc</strong> Portal</span>
        <div class="bloque">
            {% if perfil.groups_id == 3 %}
            <span class="lista">
                <svg 
                    class="icon" 
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24">
                    <g fill="3C3C3C">
                        <path d="M12.5 5.4a1 1 0 0 0-1 0L5.1 9l6.4 3.6a1 1 0 0 0 1 0L18.9 9l-6.4-3.6zm-2-1.7a3 3 0 0 1 3 0l8 4.4a1 1 0 0 1 0 1.8l-8 4.4a3 3 0 0 1-3 0l-8-4.4a1 1 0 0 1 0-1.8l8-4.4z"/>
                        <path d="M21 8a1 1 0 0 1 1 1v7a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1zM6 10a1 1 0 0 1 1 1v5.4l4.6 2.3a1 1 0 0 0 .8 0l4.6-2.3V11a1 1 0 1 1 2 0v6a1 1 0 0 1-.6.9l-5 2.5a3 3 0 0 1-2.7 0L5.6 18a1 1 0 0 1-.6-1v-6a1 1 0 0 1 1-1z"/>
                    </g>
                </svg>
                <a href="{% url 'perfil_ri' id %}">Académico</a>
            </span>
            {% else %}
            <span class="lista">
                <svg class="icon" 
                    xmlns="http://www.w3.org/2000/svg" 
                    viewBox="0 0 366.053 366.053" 
                    xml:space="preserve">
                    <g fill="3C3C3C">
                        <path d="M358.553 119.086h-11.244c-1.979-12.288-8.727-22.77-18.049-29.02 4.375-4.801 7.049-11.18 7.049-18.174 0-14.894-12.115-27.01-27.008-27.01-14.892 0-27.01 12.116-27.01 27.01 0 6.994 2.682 13.365 7.061 18.166-9.328 6.248-16.08 16.735-18.061 29.027h-11.244a7.499 7.499 0 0 0-7.5 7.5v31.619c0 4.143 3.357 7.5 7.5 7.5h98.506c4.143 0 7.5-3.357 7.5-7.5v-31.619a7.5 7.5 0 0 0-7.5-7.499zm-61.262-47.193c0-6.622 5.389-12.01 12.01-12.01 6.621 0 12.008 5.388 12.008 12.01s-5.387 12.01-12.008 12.01c-6.621-.001-12.01-5.388-12.01-12.01zm12.01 27.009c10.811 0 19.947 8.552 22.744 20.184h-45.488c2.798-11.632 11.935-20.184 22.744-20.184zm41.752 51.803h-83.506v-16.619h83.506v16.619zM232.279 119.086h-11.244c-1.98-12.287-8.727-22.769-18.047-29.018 4.375-4.802 7.047-11.183 7.047-18.176 0-14.894-12.115-27.01-27.008-27.01-14.893 0-27.01 12.116-27.01 27.01 0 6.995 2.684 13.367 7.063 18.169-9.328 6.248-16.08 16.731-18.061 29.024h-11.246a7.499 7.499 0 0 0-7.5 7.5v31.619c0 4.143 3.357 7.5 7.5 7.5h98.506c4.143 0 7.5-3.357 7.5-7.5v-31.619a7.499 7.499 0 0 0-7.5-7.499zm-61.261-47.193c0-6.622 5.389-12.01 12.01-12.01 6.621 0 12.008 5.388 12.008 12.01s-5.387 12.01-12.008 12.01c-6.622-.001-12.01-5.388-12.01-12.01zm12.009 27.009c10.811 0 19.947 8.552 22.744 20.184h-45.488c2.799-11.632 11.936-20.184 22.744-20.184zm41.752 51.803h-83.506v-16.619h83.506v16.619zM106.006 119.086H94.768c-1.98-12.295-8.736-22.781-18.07-29.028 4.379-4.8 7.065-11.17 7.065-18.165 0-14.894-12.115-27.01-27.008-27.01-14.893 0-27.01 12.116-27.01 27.01 0 6.995 2.685 13.365 7.065 18.165-9.33 6.249-16.084 16.734-18.065 29.028H7.5a7.499 7.499 0 0 0-7.5 7.5v31.619c0 4.143 3.357 7.5 7.5 7.5h98.506c4.143 0 7.5-3.357 7.5-7.5v-31.619a7.5 7.5 0 0 0-7.5-7.5zM44.744 71.893c0-6.622 5.389-12.01 12.01-12.01s12.008 5.388 12.008 12.01-5.387 12.01-12.008 12.01-12.01-5.388-12.01-12.01zm12.01 27.009c10.811 0 19.947 8.552 22.744 20.184H34.01c2.799-11.632 11.935-20.184 22.744-20.184zm41.752 51.803H15v-16.619h83.506v16.619zM358.553 274.553H347.32c-1.98-12.29-8.729-22.777-18.057-29.027 4.375-4.8 7.045-11.177 7.045-18.168 0-14.893-12.115-27.01-27.008-27.01-14.892 0-27.01 12.116-27.01 27.01 0 6.996 2.68 13.372 7.059 18.174-9.326 6.249-16.082 16.73-18.063 29.021h-11.24a7.499 7.499 0 0 0-7.5 7.5v31.617c0 4.143 3.357 7.5 7.5 7.5h98.506c4.143 0 7.5-3.357 7.5-7.5v-31.617a7.498 7.498 0 0 0-7.499-7.5zm-61.262-47.196c0-6.622 5.389-12.01 12.01-12.01 6.621 0 12.008 5.388 12.008 12.01s-5.387 12.01-12.008 12.01c-6.621 0-12.01-5.388-12.01-12.01zm12.01 27.01c10.811 0 19.947 8.552 22.744 20.186h-45.488c2.796-11.634 11.933-20.186 22.744-20.186zm41.752 51.803h-83.506v-16.617h83.506v16.617zM232.279 274.553h-11.248c-1.98-12.291-8.719-22.785-18.049-29.033 4.375-4.799 7.053-11.17 7.053-18.162 0-14.893-12.115-27.01-27.008-27.01-14.893 0-27.01 12.116-27.01 27.01 0 6.991 2.68 13.361 7.053 18.162-9.328 6.248-16.061 16.742-18.039 29.033h-11.258a7.499 7.499 0 0 0-7.5 7.5v31.617c0 4.143 3.357 7.5 7.5 7.5h98.506c4.143 0 7.5-3.357 7.5-7.5v-31.617c0-4.143-3.357-7.5-7.5-7.5zm-49.252-59.205c6.621 0 12.008 5.388 12.008 12.01s-5.387 12.01-12.008 12.01c-6.621 0-12.01-5.388-12.01-12.01.001-6.623 5.389-12.01 12.01-12.01zm0 39.019c10.811 0 19.947 8.552 22.744 20.186h-45.488c2.797-11.634 11.934-20.186 22.744-20.186zm41.752 51.803h-83.506v-16.617h83.506v16.617zM106.006 274.553H94.773c-1.98-12.295-8.734-22.786-18.066-29.035 4.375-4.8 7.055-11.168 7.055-18.16 0-14.893-12.115-27.01-27.008-27.01-14.893 0-27.01 12.116-27.01 27.01 0 6.994 2.68 13.367 7.057 18.17-9.326 6.249-16.08 16.733-18.059 29.025H7.5a7.499 7.499 0 0 0-7.5 7.5v31.617c0 4.143 3.357 7.5 7.5 7.5h98.506c4.143 0 7.5-3.357 7.5-7.5v-31.617a7.5 7.5 0 0 0-7.5-7.5zm-61.262-47.196c0-6.622 5.389-12.01 12.01-12.01s12.008 5.388 12.008 12.01-5.387 12.01-12.008 12.01-12.01-5.388-12.01-12.01zm12.01 27.01c10.811 0 19.947 8.552 22.744 20.186H34.01c2.797-11.634 11.933-20.186 22.744-20.186zm41.752 51.803H15v-16.617h83.506v16.617z"/>
                    </g>
                </svg>
                <a href="{% url 'cursos' id periodo.id %}">Cursos</a>
            </span>
            {% endif %}
        </div>

        <div class="bloque">
            <span class="lista">
                <svg class="icon" 
                    viewBox="0 0 20 20" 
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.563 18H3.438c-.706 0-1.228-.697-.961-1.338C3.713 13.698 6.617 12 10 12c3.384 0 6.288 1.698 7.524 4.662.267.641-.255 1.338-.961 1.338M5.917 6c0-2.206 1.832-4 4.083-4 2.252 0 4.083 1.794 4.083 4S12.252 10 10 10c-2.251 0-4.083-1.794-4.083-4m14.039 11.636c-.742-3.359-3.064-5.838-6.119-6.963 1.619-1.277 2.563-3.342 2.216-5.603-.402-2.623-2.63-4.722-5.318-5.028C7.023-.381 3.875 2.449 3.875 6c0 1.89.894 3.574 2.289 4.673-3.057 1.125-5.377 3.604-6.12 6.963C-.226 18.857.779 20 2.054 20h15.892c1.276 0 2.28-1.143 2.01-2.364" 
                    fill="#3C3C3C" 
                    fill-rule="evenodd"/>
                </svg>
                <a href="#">Mi perfil</a>
            </span>
            {% if user.is_authenticated %}
            <span class="lista">
                <svg class="icon" 
                    xmlns="http://www.w3.org/2000/svg" 
                    viewBox="0 0 511.996 511.996" 
                    xml:space="preserve">
                    <path d="M349.85 62.196c-10.797-4.717-23.373.212-28.09 11.009-4.717 10.797.212 23.373 11.009 28.09 69.412 30.324 115.228 98.977 115.228 176.035 0 106.034-85.972 192-192 192-106.042 0-192-85.958-192-192 0-77.041 45.8-145.694 115.192-176.038 10.795-4.72 15.72-17.298 10.999-28.093-4.72-10.795-17.298-15.72-28.093-10.999C77.306 99.275 21.331 183.181 21.331 277.329c0 129.606 105.061 234.667 234.667 234.667 129.592 0 234.667-105.068 234.667-234.667 0-94.17-55.998-178.08-140.815-215.133z"/><path d="M255.989 234.667c11.782 0 21.333-9.551 21.333-21.333v-192C277.323 9.551 267.771 0 255.989 0c-11.782 0-21.333 9.551-21.333 21.333v192c0 11.782 9.551 21.334 21.333 21.334z"/>
                </svg>
                <a href="/logout">Cerrar Sesión</a>
            </span>
            {% endif %}
        </div>
    </aside>
    
    {%block content%}
    {% if perfil.groups_id == 3 %}
    <content>
    {% else %}
    <content style="background:linear-gradient(52deg, rgba(235,60,70,1) 0%, rgba(15,105,180,1) 100%);">
    {% endif %}
        <div class="card">
            <span style="display: inline; color: red;">{{error}}</span>
            <div class="botonera">
                {% if perfil.groups_id == 3 %}
                <button id="abrirPopup"><svg width="30px" height="30px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M15 12L12 12M12 12L9 12M12 12L12 9M12 12L12 15" stroke="white" stroke-width="1.5" stroke-linecap="round"></path> <path d="M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C21.5093 4.43821 21.8356 5.80655 21.9449 8" stroke="white" stroke-width="1.5" stroke-linecap="round"></path> </g></svg>Crear Asignatura</button>
                {% endif %}
                <p class="titulo" style="text-transform: capitalize;">{{curso.nombre}}</p>
            </div>
            <div class="table">
                <table>
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Opciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% if contador is not none %}
                        {% for a in asignatura %}
                        <tr>
                            <td><a href="" id="materia" style="cursor: default; text-transform: capitalize;">{{a.nombre}}</a></td>
                            <td>
                                <a href="{% url 'editarAsignatura' id a.curso.id a.id %}"class="opcion">Editar</a>
                                <a href="{% url 'alumnosNotas' id a.curso_id a.id %}"class="opcion">Evaluaciones</a>
                                {% if perfil.groups_id == 3 %}
                                <a href="{% url 'eliminarAsignatura' id a.curso_id a.id %}"class="opcion">Eliminar</a>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                        {% else %}
                        <tr>
                            <td>
                                <h1 style="opacity: .5; font-size: 40px;">Aun no tienes Asignaturas</h1>
                            </td>
                        </tr>
                        {% endif %}
                    </tbody>
                </table>
            </div>
        </div>

    
    
        <dialog id="popup">
            
            <form method="POST">
                {% csrf_token %}
                {{form}}
                <button type="submit">Crear</button>
            </form>
            
        </dialog>
        
    </content>
    {%endblock%}
    

<script src="{% static 'js/dialog.js' %}"></script>
</body>
</html>